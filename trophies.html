<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trophies ‚Äî Lakshya Agarwal</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{
      --bg:#111215;--surface:#1a1c20;--border:#252830;
      --text:#ffffff;--sub:#8b9099;
      --plat:#9bb0d4;--gold:#c8961e;--silver:#7e9ab5;--bronze:#9b5f2e;
      --green:#1db954;
    }
    body{background:var(--bg);color:var(--text);font-family:'Inter',-apple-system,sans-serif;font-size:14px;-webkit-font-smoothing:antialiased;min-height:100vh;}
    .page{max-width:680px;margin:0 auto;padding-bottom:60px;}

    /* PROFILE */
    .profile{padding:28px 20px 18px;display:flex;align-items:center;gap:14px;}
    .av-wrap{position:relative;flex-shrink:0;}
    .av{width:60px;height:60px;border-radius:50%;background:#2a2d35;border:2px solid #333;overflow:hidden;display:flex;align-items:center;justify-content:center;font-size:1.5rem;}
    .av img{width:100%;height:100%;object-fit:cover;}
    .dot{position:absolute;bottom:1px;right:1px;width:12px;height:12px;border-radius:50%;background:var(--green);border:2.5px solid var(--bg);}
    .handle{font-size:.75rem;color:var(--sub);margin-bottom:2px;}
    .dname{font-size:1.2rem;font-weight:700;}

    /* LEVEL ROW */
    .level-row{display:flex;align-items:center;gap:20px;padding:18px 20px;border-top:1px solid var(--border);border-bottom:1px solid var(--border);}

    /* Level trophy badge */
    .badge-col{display:flex;flex-direction:column;align-items:center;gap:5px;flex-shrink:0;}
    .badge-svg{width:60px;height:60px;}
    .badge-lbl{font-size:.7rem;color:var(--sub);font-weight:500;letter-spacing:.04em;}

    /* Circle ring */
    .ring-col{position:relative;flex-shrink:0;width:76px;height:76px;}
    .ring-col svg{transform:rotate(-90deg);}
    .rtrack{fill:none;stroke:#2a2d35;stroke-width:6;}
    .rfill{fill:none;stroke-width:6;stroke-linecap:butt;stroke:#ccc;transition:stroke-dashoffset 1.2s cubic-bezier(.4,0,.2,1);}
    .ring-inner{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:1px;}
    .ring-pct{font-size:1rem;font-weight:700;}
    .ring-sub{font-size:.6rem;color:var(--sub);font-weight:500;}

    /* Total */
    .total-col{flex:1;}
    .total-num{font-size:2.2rem;font-weight:700;line-height:1;}
    .total-lbl{font-size:.8rem;color:var(--sub);margin-top:3px;}

    /* TROPHY COUNTS */
    .tcounts{display:flex;padding:0 20px 20px;gap:0;}
    .tci{display:flex;align-items:center;gap:8px;flex:1;}
    .tci-num{font-size:1.25rem;font-weight:700;}
    .tci.plat .tci-num{color:var(--plat);}
    .tci.gold .tci-num{color:var(--gold);}
    .tci.silv .tci-num{color:var(--silver);}
    .tci.bron .tci-num{color:var(--bronze);}

    /* GAMES */
    .games-wrap{padding:0 20px;}
    .games-lbl{font-size:1rem;font-weight:600;margin-bottom:12px;}
    .controls{display:flex;gap:8px;margin-bottom:14px;flex-wrap:wrap;}
    .src{flex:1;min-width:130px;background:var(--surface);border:1px solid var(--border);border-radius:20px;padding:7px 14px;color:var(--text);font-family:inherit;font-size:.84rem;outline:none;}
    .src:focus{border-color:#404350;}
    .src::placeholder{color:var(--sub);}
    .fb{background:var(--surface);border:1px solid var(--border);color:var(--sub);padding:7px 14px;border-radius:20px;cursor:pointer;font-family:inherit;font-size:.8rem;font-weight:500;transition:all .15s;white-space:nowrap;}
    .fb:hover{color:var(--text);}
    .fb.on{background:var(--text);border-color:var(--text);color:#111;}

    /* GAME LIST */
    .glist{display:flex;flex-direction:column;}
    .grow{border-bottom:1px solid var(--border);overflow:hidden;}
    .grow:first-child{border-top:1px solid var(--border);}
    .gmain{display:flex;align-items:center;gap:14px;padding:14px 0;cursor:pointer;user-select:none;}
    .gcover{width:90px;height:90px;border-radius:10px;background:#0a0a0a;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1.8rem;overflow:hidden;}
    .gcover img{width:100%;height:100%;object-fit:contain;object-position:center;}
    .gbody{flex:1;min-width:0;}
    .gtitle{font-size:.94rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:8px;}
    .gpips{display:flex;gap:12px;align-items:center;margin-bottom:8px;}
    .pip{display:flex;align-items:center;gap:4px;font-size:.82rem;font-weight:500;color:var(--sub);}
    .gbar{height:2px;background:var(--border);border-radius:1px;overflow:hidden;}
    .gbarfill{height:100%;border-radius:1px;width:0;transition:width 1s ease;}
    .gright{display:flex;flex-direction:column;align-items:flex-end;gap:4px;flex-shrink:0;padding-left:8px;}
    .gpct{font-size:.95rem;font-weight:600;}
    .chev{color:var(--sub);font-size:.7rem;transition:transform .25s;}
    .grow.open .chev{transform:rotate(180deg);}

    /* TROPHY PANEL */
    .tpanel{display:none;flex-direction:column;padding-bottom:6px;}
    .grow.open .tpanel{display:flex;}
    .trow{display:flex;align-items:center;gap:12px;padding:10px 0;border-top:1px solid var(--border);}
    .timg{width:54px;height:54px;border-radius:8px;background:var(--surface);flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:1.3rem;overflow:hidden;}
    .timg img{width:100%;height:100%;object-fit:contain;background:#1a1c20;}
    .tbody{flex:1;min-width:0;}
    .tname{font-size:.87rem;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .tdesc{font-size:.75rem;color:var(--sub);margin-top:2px;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;}
    .tright{flex-shrink:0;display:flex;flex-direction:column;align-items:flex-end;gap:3px;}
    .trare{font-size:.63rem;color:#c9485b;font-weight:600;letter-spacing:.04em;}
    .trow.locked{opacity:.35;}
    .empty{padding:36px 0;text-align:center;color:var(--sub);}
    @keyframes fu{from{opacity:0;transform:translateY(7px)}to{opacity:1;transform:translateY(0)}}
    .grow{animation:fu .28s ease both;}
  </style>
</head>
<body>
<div class="page">
  <div class="profile">
    <div class="av-wrap">
      <div class="av" id="avEl">üë§</div>
      <div class="dot"></div>
    </div>
    <div>
      <div class="handle" id="hdEl"></div>
      <div class="dname" id="dnEl">‚Äî</div>
    </div>
  </div>

  <div class="level-row">
    <div class="badge-col">
      <svg class="badge-svg" viewBox="0 0 80 80" fill="none">
        <path d="M8 42Q1 32 8 23Q17 30 18 40Z" fill="#8B5E3C" opacity=".85"/>
        <path d="M72 42Q79 32 72 23Q63 30 62 40Z" fill="#8B5E3C" opacity=".85"/>
        <path d="M3 46Q-1 34 8 27Q15 36 16 46Z" fill="#7A4C2C" opacity=".6"/>
        <path d="M77 46Q81 34 72 27Q65 36 64 46Z" fill="#7A4C2C" opacity=".6"/>
        <path d="M25 14H55V42A15 15 0 0 1 25 42Z" fill="url(#cg)"/>
        <path d="M17 16H25V34A7 7 0 0 1 12 28V20A4 4 0 0 1 17 16Z" fill="#a05e35"/>
        <path d="M63 16H55V34A7 7 0 0 0 68 28V20A4 4 0 0 0 63 16Z" fill="#a05e35"/>
        <rect x="36" y="57" width="8" height="9" rx="1" fill="#c0724a"/>
        <rect x="27" y="65" width="26" height="5" rx="2" fill="#b06030"/>
        <path d="M29 18Q36 23 34 36" stroke="rgba(255,255,255,.22)" stroke-width="3" stroke-linecap="round"/>
        <defs><linearGradient id="cg" x1="25" y1="14" x2="55" y2="57" gradientUnits="userSpaceOnUse"><stop offset="0%" stop-color="#e08050"/><stop offset="100%" stop-color="#8B3A18"/></linearGradient></defs>
      </svg>
      <div class="badge-lbl">Level <span id="lvEl">‚Äî</span></div>
    </div>

    <div class="ring-col">
      <svg width="76" height="76" viewBox="0 0 76 76">
        <circle class="rtrack" cx="38" cy="38" r="30"/>
        <circle class="rfill" id="rfill" cx="38" cy="38" r="30" stroke-dasharray="188.5" stroke-dashoffset="188.5"/>
      </svg>
      <div class="ring-inner">
        <div class="ring-pct" id="rpct">0%</div>
        <div class="ring-sub">next level</div>
      </div>
    </div>

    <div class="total-col">
      <div class="total-num" id="totalEl">‚Äî</div>
      <div class="total-lbl">Total Trophies</div>
    </div>
  </div>

  <div class="tcounts" id="tcoEl">
    <div class="tci plat"><svg width="36" height="36" viewBox="0 0 40 40" id="svgP"></svg><span class="tci-num" id="pN">‚Äî</span></div>
    <div class="tci gold"><svg width="36" height="36" viewBox="0 0 40 40" id="svgG"></svg><span class="tci-num" id="gN">‚Äî</span></div>
    <div class="tci silv"><svg width="36" height="36" viewBox="0 0 40 40" id="svgS"></svg><span class="tci-num" id="sN">‚Äî</span></div>
    <div class="tci bron"><svg width="36" height="36" viewBox="0 0 40 40" id="svgB"></svg><span class="tci-num" id="bN">‚Äî</span></div>
  </div>

  <div class="games-wrap">
    <div class="games-lbl">Games played</div>
    <div class="controls">
      <input class="src" type="text" id="srcEl" placeholder="Search games‚Ä¶"/>
      <button class="fb on" data-f="all">All</button>
      <button class="fb" data-f="platinum">Platinum</button>
      <button class="fb" data-f="complete">100%</button>
      <button class="fb" data-f="incomplete">Incomplete</button>
    </div>
    <div class="glist" id="glist"><div class="empty">Loading‚Ä¶</div></div>
  </div>
</div>

<script>
const GRADE={
  platinum:{f:'#9bb0d4',s:'#7a94b8'},
  gold:    {f:'#c8961e',s:'#a07010'},
  silver:  {f:'#7e9ab5',s:'#5a7a95'},
  bronze:  {f:'#9b5f2e',s:'#7a4020'},
};

function cupInner(g){
  const c=GRADE[g]||GRADE.bronze;
  const hi='rgba(255,255,255,0.22)';
  return `
<path d="M11 3H29V21A9 9 0 0 1 11 21Z" fill="${c.f}"/>
<path d="M11 3H29V10H11Z" fill="${c.f}"/>
<ellipse cx="20" cy="21" rx="9" ry="2.5" fill="${c.s}"/>
<path d="M5 5H11V17C5 17 3 13 3 10V7C3 5.9 3.9 5 5 5Z" fill="${c.s}"/>
<path d="M35 5H29V17C35 17 37 13 37 10V7C37 5.9 36.1 5 35 5Z" fill="${c.s}"/>
<rect x="17" y="23" width="6" height="5" rx="1" fill="${c.s}"/>
<rect x="12" y="27.5" width="16" height="3.5" rx="1.5" fill="${c.f}"/>
<rect x="12" y="30.5" width="16" height="2" rx="1" fill="${c.s}"/>
<path d="M13 5Q16 10 15 18" stroke="${hi}" stroke-width="2.5" stroke-linecap="round" fill="none"/>
<path d="M20 5V18" stroke="${hi}" stroke-width="1" stroke-linecap="round" fill="none" opacity="0.4"/>
`;
}

function cupSVG(g,sz){return `<svg width="${sz}" height="${sz}" viewBox="0 0 40 40">${cupInner(g)}</svg>`;}

// Inject tc icons
['svgP','svgG','svgS','svgB'].forEach((id,i)=>{
  document.getElementById(id).innerHTML=cupInner(['platinum','gold','silver','bronze'][i]);
});

function barColor(p){
  if(p===100)return '#c8961e';
  if(p>=70)return '#1db954';
  if(p>=30)return '#2e6db4';
  return '#4a4d55';
}

const DEMO={
  profile:{onlineId:'alakshya2648',displayName:'Lakshya Agarwal',avatarUrl:null,trophyLevel:240,progress:20,earnedTrophies:{platinum:6,gold:65,silver:277,bronze:1138}},
  games:[
    {id:'g1',title:'Sekiro‚Ñ¢: Shadows Die Twice',coverEmoji:'‚öîÔ∏è',trophies:{earned:{platinum:0,gold:1,silver:7,bronze:16},total:{platinum:1,gold:2,silver:9,bronze:24}},completion:56,hasPlatinum:false,trophyList:[
      {name:'Immortal Severance',desc:'Achieve the Immortal Severance ending.',grade:'gold',earned:true,iconEmoji:'üó°Ô∏è',rare:false},
      {name:'Master of the Prosthetic',desc:'Acquire all Prosthetic Tools and fully upgrade them.',grade:'silver',earned:true,iconEmoji:'ü¶æ',rare:true},
      {name:'Shura',desc:'Obey the Iron Code, achieve Shura.',grade:'platinum',earned:false,iconEmoji:'üíé',rare:true},
    ]},
    {id:'g2',title:'Grand Theft Auto V',coverEmoji:'üöó',trophies:{earned:{platinum:0,gold:1,silver:7,bronze:29},total:{platinum:1,gold:3,silver:12,bronze:50}},completion:45,hasPlatinum:false,trophyList:[
      {name:'Los Santos Legend',desc:"You're Vinewood's biggest star.",grade:'gold',earned:true,iconEmoji:'‚≠ê',rare:false},
      {name:'Career Criminal',desc:'Attain 100% Game Completion.',grade:'gold',earned:false,iconEmoji:'üèÜ',rare:true},
    ]},
    {id:'g3',title:'Black Myth: Wukong',coverEmoji:'üêí',trophies:{earned:{platinum:0,gold:2,silver:5,bronze:20},total:{platinum:1,gold:4,silver:8,bronze:30}},completion:62,hasPlatinum:false,trophyList:[
      {name:'Equal of Heaven',desc:'Complete all six chapters.',grade:'gold',earned:true,iconEmoji:'‚òÅÔ∏è',rare:false},
      {name:'The Destined One',desc:'Obtain all trophies.',grade:'platinum',earned:false,iconEmoji:'üíé',rare:true},
    ]},
    {id:'g4',title:'Trackmania',coverEmoji:'üèéÔ∏è',trophies:{earned:{platinum:0,gold:1,silver:2,bronze:9},total:{platinum:1,gold:3,silver:8,bronze:22}},completion:29,hasPlatinum:false,trophyList:[
      {name:'Time Keeper',desc:'Beat all time limits on all tracks.',grade:'gold',earned:true,iconEmoji:'‚è±Ô∏è',rare:false},
      {name:'Trackmania Legend',desc:'Earn all trophies.',grade:'platinum',earned:false,iconEmoji:'üíé',rare:true},
    ]},
    {id:'g5',title:'Injustice 2',coverEmoji:'ü¶∏',trophies:{earned:{platinum:0,gold:0,silver:0,bronze:2},total:{platinum:1,gold:5,silver:12,bronze:38}},completion:2,hasPlatinum:false,trophyList:[
      {name:'First Blood',desc:'Win your first online match.',grade:'bronze',earned:true,iconEmoji:'ü©∏',rare:false},
      {name:'The Pinnacle',desc:'Collect all other trophies.',grade:'platinum',earned:false,iconEmoji:'üíé',rare:true},
    ]},
  ]
};

let allG=[],af='all';

async function init(){
  try{const r=await fetch('trophies.json');if(r.ok){render(await r.json());return;}}catch(e){}
  render(DEMO);
}

function render(data){
  const{profile,games}=data;
  allG=[...games].sort((a,b)=>b.completion-a.completion);

  if(profile.avatarUrl)document.getElementById('avEl').innerHTML=`<img src="${profile.avatarUrl}" alt=""/>`;
  document.getElementById('hdEl').textContent=profile.onlineId||'';
  document.getElementById('dnEl').textContent=profile.displayName||'Player';
  document.getElementById('lvEl').textContent=profile.trophyLevel||0;

  const pct=profile.progress||0;
  document.getElementById('rpct').textContent=pct+'%';
  const circ=2*Math.PI*30;
  setTimeout(()=>{document.getElementById('rfill').style.strokeDashoffset=circ-(pct/100)*circ;},120);

  const t=profile.earnedTrophies||{};
  const tot=(t.platinum||0)+(t.gold||0)+(t.silver||0)+(t.bronze||0);
  document.getElementById('totalEl').textContent=tot.toLocaleString();
  document.getElementById('pN').textContent=t.platinum||0;
  document.getElementById('gN').textContent=t.gold||0;
  document.getElementById('sN').textContent=t.silver||0;
  document.getElementById('bN').textContent=t.bronze||0;

  renderG();
}

function renderG(){
  const q=document.getElementById('srcEl').value.toLowerCase();
  const gs=allG.filter(g=>{
    if(q&&!g.title.toLowerCase().includes(q))return false;
    if(af==='platinum')return g.hasPlatinum;
    if(af==='complete')return g.completion===100;
    if(af==='incomplete')return g.completion<100;
    return true;
  });
  const list=document.getElementById('glist');
  if(!gs.length){list.innerHTML='<div class="empty">No games found.</div>';return;}

  list.innerHTML=gs.map((g,i)=>{
    const e=g.trophies?.earned||{};
    const p=g.completion||0;
    const col=barColor(p);
    const cov=g.coverUrl?`<img src="${g.coverUrl}" alt=""/>`:(g.coverEmoji||'üéÆ');
    const trs=(g.trophyList||[]).map(t=>`
      <div class="trow ${t.earned?'':'locked'}">
        <div class="timg">${t.iconUrl?`<img src="${t.iconUrl}" alt=""/>`:t.iconEmoji||'üèÜ'}</div>
        <div class="tbody">
          <div class="tname">${t.name}</div>
          <div class="tdesc">${t.desc}</div>
        </div>
        <div class="tright">
          ${cupSVG(t.grade,24)}
          ${t.rare?'<div class="trare">RARE</div>':''}
        </div>
      </div>`).join('');
    return `<div class="grow" id="${g.id}" style="animation-delay:${i*28}ms">
      <div class="gmain" onclick="tog('${g.id}')">
        <div class="gcover">${cov}</div>
        <div class="gbody">
          <div class="gtitle">${g.title}</div>
          <div class="gpips">
            ${['platinum','gold','silver','bronze'].map(gr=>`<div class="pip">${cupSVG(gr,16)}<span>${e[gr]||0}</span></div>`).join('')}
          </div>
          <div class="gbar"><div class="gbarfill" data-w="${p}" style="background:${col}"></div></div>
        </div>
        <div class="gright">
          <div class="gpct">${p}%</div>
          <div class="chev">‚ñæ</div>
        </div>
      </div>
      <div class="tpanel">${trs||'<div style="padding:10px 0;color:var(--sub);font-size:.83rem">No trophy details available.</div>'}</div>
    </div>`;
  }).join('');

  requestAnimationFrame(()=>setTimeout(()=>{
    document.querySelectorAll('.gbarfill').forEach(el=>{el.style.width=el.dataset.w+'%';});
  },80));
}

function tog(id){
  document.querySelectorAll('.grow.open').forEach(r=>{if(r.id!==id)r.classList.remove('open');});
  document.getElementById(id).classList.toggle('open');
}

document.querySelectorAll('.fb').forEach(b=>{
  b.addEventListener('click',()=>{
    document.querySelectorAll('.fb').forEach(x=>x.classList.remove('on'));
    b.classList.add('on');af=b.dataset.f;renderG();
  });
});
document.getElementById('srcEl').addEventListener('input',renderG);
init();
</script>
</body>
</html>